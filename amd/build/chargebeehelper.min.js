define ("block_poodllclassroom/chargebeehelper",["jquery","core/log","core/ajax"],function(a,b,c){"use strict";b.debug("cbhelper: initialising");return{instanceprops:null,changeplanclass:"",siteprefix:"",controls:{},init:function init(a){this.instanceprops=a;this.changeplanclass=a.changeplanclass;this.siteprefix=a.siteprefix;this.registercontrols();this.registerevents()},registercontrols:function registercontrols(){this.controls.togglebutton=a("a.monthlyyearly");this.controls.monthlyplans=a("div.monthly");this.controls.yearlyplans=a("div.yearly")},registerevents:function registerevents(){var b=this;this.controls.togglebutton.on("click",function(){event.preventDefault();b.controls.monthlyplans.toggle();b.controls.yearlyplans.toggle()});a.getScript("https://js.chargebee.com/v2/chargebee.js",function(){var d=Chargebee.init({site:b.siteprefix});a("."+b.changeplanclass).on("click",function(){event.preventDefault();var b=a(this).data("planid");d.openCheckout({hostedPage:function hostedPage(){var a=c.call([{methodname:"block_poodllclassroom_get_checkout_existing",args:{planid:b}}]);return a[0]},loaded:function loaded(){console.log("checkout opened")},error:function error(){},close:function close(){console.log("checkout closed")},success:function success(a){console.log(a)},step:function step(a){console.log(a)}})})})}}});
//# sourceMappingURL=chargebeehelper.min.js.map
